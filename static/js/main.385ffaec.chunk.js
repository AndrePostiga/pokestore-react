(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{107:function(n,e,t){"use strict";t.r(e);var r={};t.r(r),t.d(r,"addToCart",(function(){return Q})),t.d(r,"removeFromCart",(function(){return X})),t.d(r,"buy",(function(){return Y}));var a={};t.r(a),t.d(a,"defineTheme",(function(){return fn}));var o={};t.r(o),t.d(o,"search",(function(){return kn}));var i=t(1),c=t.n(i),u=t(23),l=t.n(u),s=t(31),p=t(8),d=t(5),m=t(2),f=t(10),h=t.n(f),b=t(12),g=t(24),x=t(16),v=t(17),w=t(19),k=t(20),y=t(57),E=t(25),O=t.n(E),j=t(3),C=t(4),P=t(14);function S(){var n=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  max-width: 20%;\n  margin: auto;\n\n  @media (max-width: 900px) {\n    max-width: 100%;\n  }\n\n  button {\n    background: ",";\n    color: #fff;\n    border: 0;\n    border-radius: 4px;\n    width: 100%;\n    overflow: hidden;\n    padding: 12px;\n    margin: 5px;\n    transition: background 0.2s;\n\n    &:hover {\n      background: ",";\n    }\n\n    span {\n      flex: 1;\n      text-align: center;\n      font-weight: bold;\n    }\n  }\n"]);return S=function(){return n},n}function T(){var n=Object(j.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n\n  svg {\n    animation: "," 2s linear infinite;\n  }\n"]);return T=function(){return n},n}function F(){var n=Object(j.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg)\n  }\n"]);return F=function(){return n},n}function R(){var n=Object(j.a)(["\n  margin: 50px;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  @media (max-width: 900px) {\n    flex-direction: column-reverse;\n    margin: 10px;\n  }\n"]);return R=function(){return n},n}var I=C.b.div(R()),N=Object(C.c)(F()),z=C.b.div(T(),N),A=C.b.div(S(),(function(n){return n.theme}),(function(n){return Object(P.a)(.03,n.theme)})),V=t(27),M=t.n(V),D=M.a.create({baseURL:"https://pokeapi.co/api/v2"}),U=function(n,e){return D.get("".concat(n,"/").concat(e))},_=function(n){return M.a.all(Object(b.a)(n.map((function(n){return M.a.get(n)}))))},J=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format;var L=function(n){var e,t=n.id,r=n.name,a=n.imageUrl,o=n.price;return{id:t,name:(e=r,e.charAt(0).toUpperCase()+e.slice(1)),imageUrl:a,price:o,priceFormatted:J(o)}};function H(n){return B.apply(this,arguments)}function B(){return(B=Object(g.a)(h.a.mark((function n(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_(e);case 2:return t=n.sent,n.abrupt("return",t.map((function(n){return L({id:n.data.id,name:n.data.name,imageUrl:n.data.sprites.front_default,price:100*Math.random()})})));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function W(n){return q.apply(this,arguments)}function q(){return(q=Object(g.a)(h.a.mark((function n(e){var t,r,a,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U("/type",e);case 3:return r=n.sent,a=r.data,o=a.pokemon.map((function(n){return n.pokemon.url})),n.next=8,H(o);case 8:t=n.sent,n.next=14;break;case 11:throw n.prev=11,n.t0=n.catch(0),new Error(n.t0);case 14:return n.abrupt("return",t);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}var G=t(26),K=t(18);function Q(n){return{type:"ADD_TO_CART",product:n}}function X(n){return{type:"REMOVE_FROM_CART",id:n}}function Y(){return{type:"FINISHED"}}function Z(){var n=Object(j.a)(["\n  div {\n    padding: 20px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: baseline;\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\n    strong {\n      font-size: 20px;\n      line-height: 20px;\n      color: #333;\n    }\n\n    span {\n      font-size: 20px;\n      line-height: 20px;\n      font-weight: bold;\n    }\n  }\n\n  button {\n    background: ",";\n    color: #fff;\n    border: 0;\n    border-radius: 4px;\n    width: 100%;\n    overflow: hidden;\n    padding: 12px;\n    transition: background 0.2s;\n\n    &:hover {\n      background: ",";\n    }\n\n    span {\n      flex: 1;\n      text-align: center;\n      font-weight: bold;\n    }\n  }\n"]);return Z=function(){return n},n}function $(){var n=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  height: 350px;\n  overflow: auto;\n\n  @media (max-width: 900px) {\n    height: 200px;\n  }\n\n  li {\n    background: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 10px;\n\n    & + li {\n      padding-top: 15px;\n      border-top: 1px solid rgba(0, 0, 0, 0.1);\n      @media (max-width: 900px) {\n        padding-top: 5px;\n      }\n    }\n\n    img {\n      max-width: 60px;\n\n      @media (max-width: 900px) {\n        max-width: 30px;\n      }\n    }\n\n    button {\n      background: red;\n      border: 0;\n      border-radius: 4px;\n      overflow: hidden;\n      padding: 20px;\n\n      @media (max-width: 900px) {\n        padding: 5px;\n      }\n\n      transition: background 0.2s;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n"]);return $=function(){return n},n}function nn(){var n=Object(j.a)(["\n  width: 30%;\n  @media (max-width: 900px) {\n    width: 100%;\n    margin-bottom: 10px;\n    margin-left: 0;\n  }\n\n  border-radius: 4px;\n  background-color: #fff;\n  margin-left: 20px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return nn=function(){return n},n}var en=C.b.div(nn()),tn=C.b.ul($(),Object(P.a)(.03,"red")),rn=C.b.div(Z(),(function(n){return n.theme}),(function(n){return Object(P.a)(.03,n.theme)})),an=function(n){Object(k.a)(t,n);var e=Object(w.a)(t);function t(){var n;Object(x.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))).state={cart:[],total:0,formatedTotal:""},n.handleBuy=function(e){var t=n.props.buy,r=n.props,a=r.total,o=r.formatedTotal;O()({text:"Parab\xe9ns pela compra",buttons:{cancel:"Fechar"},content:c.a.createElement("div",null,c.a.createElement("strong",null,"Muito obrigado por comprar conosco"),c.a.createElement("p",null,"O valor da sua compra foi de: ",c.a.createElement("strong",null,o)),c.a.createElement("p",null,"Voc\xea ganhou ",c.a.createElement("strong",null,J(.01*a)),"\u2248 de cashback"))}),sessionStorage.removeItem("cart"),t()},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,e=n.cart,t=n.total,r=n.formatedTotal;this.setState({cart:e||[],total:t,formatedTotal:r})}},{key:"componentDidUpdate",value:function(n){var e=this.props,t=e.cart,r=e.total,a=e.formatedTotal;n.cart!==t&&(sessionStorage.setItem("cart",JSON.stringify(t)),sessionStorage.setItem("total",JSON.stringify(r)),this.setState({cart:t||[],total:r,formatedTotal:a}))}},{key:"render",value:function(){var n=this,e=this.props,t=e.theme,r=e.removeFromCart,a=this.state,o=a.cart,i=a.formatedTotal;return c.a.createElement(en,null,c.a.createElement("h1",null,"Carrinho"),c.a.createElement(tn,null,o.map((function(n){return c.a.createElement("li",{key:n.name},c.a.createElement("img",{src:n.imageUrl,alt:n.name}),c.a.createElement("strong",null,n.name),c.a.createElement("span",null,n.subTotal),c.a.createElement("span",null,n.amount),c.a.createElement("button",{type:"button",onClick:function(){return r(n.id)}},c.a.createElement(K.b,{size:12,color:"#FFF"})))}))),c.a.createElement(rn,{theme:t.color},c.a.createElement("div",null,c.a.createElement("strong",null,"Total"),c.a.createElement("span",null,i)),c.a.createElement("button",{type:"button",onClick:function(){return n.handleBuy()}},c.a.createElement("span",null,"Finalizar compra"))))}}]),t}(i.Component),on=Object(p.b)((function(n){return{cart:n.cart.map((function(n){return Object(G.a)({},n,{subTotal:J(n.price*n.amount)})})),formatedTotal:J(n.cart.reduce((function(n,e){return n+e.amount*e.price}),0)),total:n.cart.reduce((function(n,e){return n+e.amount*e.price}),0),theme:n.theme}}),(function(n){return Object(d.a)(r,n)}))(an);function cn(){var n=Object(j.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 20px;\n  list-style: none;\n\n  @media (max-width: 900px) {\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 10px;\n  }\n\n  li {\n    display: flex;\n    flex-direction: column;\n    background: #fff;\n    border-radius: 4px;\n    padding: 20px;\n\n    @media (max-width: 900px) {\n      padding: 10px;\n    }\n\n    img {\n      align-self: center;\n      max-width: 200px;\n      @media (max-width: 900px) {\n        max-width: 100px;\n      }\n    }\n\n    > strong {\n      font-size: 16px;\n      line-height: 20px;\n      margin-top: 5px;\n      color: #333;\n    }\n\n    > span {\n      font-size: 21px;\n      font-weight: bold;\n      margin: 5px 0 20px;\n      @media (max-width: 900px) {\n        font-size: 15px;\n        margin: 5px 0 10px;\n      }\n    }\n\n    button {\n      background: ",";\n      border: 0;\n      border-radius: 4px;\n      overflow: hidden;\n      margin-top: auto;\n\n      display: flex;\n      align-items: center;\n      padding: 12px;\n      transition: background 0.2s;\n\n      @media (max-width: 900px) {\n        padding: 5px;\n      }\n\n      &:hover {\n        background: ",";\n      }\n\n      span {\n        flex: 1;\n        text-align: center;\n        font-weight: bold;\n        color: #fff;\n\n        @media (max-width: 900px) {\n          font-size: 12px;\n        }\n      }\n    }\n  }\n"]);return cn=function(){return n},n}function un(){var n=Object(j.a)(["\n  width: 70%;\n  @media (max-width: 900px) {\n    width: 100%;\n  }\n"]);return un=function(){return n},n}var ln=C.b.div(un()),sn=C.b.ul(cn(),(function(n){return n.theme}),(function(n){return Object(P.a)(.03,n.theme)}));var pn=Object(p.b)((function(n){return{theme:n.theme}}),(function(n){return Object(d.a)(r,n)}))((function(n){var e=n.pokemons,t=n.addToCart,r=n.theme;return c.a.createElement(ln,null,c.a.createElement(sn,{theme:r.color},e.map((function(n){return c.a.createElement("li",{key:n.id},c.a.createElement("img",{src:n.imageUrl,alt:n.name}),c.a.createElement("strong",null,n.name),c.a.createElement("span",null,n.priceFormatted),c.a.createElement("button",{type:"button",onClick:function(){return t(n)}},c.a.createElement(K.a,{size:12,color:"#FFF"}),c.a.createElement("span",null,"Adicionar ao carrinho")))}))))})),dn=function(n){Object(k.a)(t,n);var e=Object(w.a)(t);function t(){var n;Object(x.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))).state={pokemons:[],pokemonsView:[],currentPage:1,pokemonsPerPage:6,searchedPokemon:null,loading:!0},n.handleNextPage=function(){var e=n.state,t=e.currentPage,r=e.pokemons,a=e.pokemonsPerPage,o=Math.ceil(r.length/a),i=t===o?o:t+1;n.setNewPagination(i)},n.handlePreviousPage=function(){var e=n.state.currentPage,t=1===e?1:e-1;n.setNewPagination(t)},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){var n=Object(g.a)(h.a.mark((function n(){var e,t,r,a,o,i,c,u,l;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.state,t=e.pokemons,r=e.currentPage,a=e.pokemonsPerPage,o=this.props.theme,i=JSON.parse(sessionStorage.getItem("pokemons"))){n.next=14;break}return n.prev=4,n.next=7,W(o.theme);case 7:i=n.sent,n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(4),O()({text:"N\xe3o foi poss\xedvel capturar todos os Pokemon, por favor, atualize a p\xe1gina e tente novamente",buttons:{cancel:"Close"}}),n.abrupt("return");case 14:u=(c=r*a)-a,l=i.slice(u,c),this.setState({pokemons:[].concat(Object(b.a)(t),Object(b.a)(i)),loading:!1,pokemonsView:Object(b.a)(l)});case 18:case"end":return n.stop()}}),n,this,[[4,10]])})));return function(){return n.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(n,e){var t=this.props.searchText,r=this.state.pokemons;if(e.pokemons!==r&&sessionStorage.setItem("pokemons",JSON.stringify(r)),n.searchText!==t){var a=null;""!==t&&(a=r.filter((function(n){return n.name.toLowerCase().startsWith(t)}))),this.setState({searchedPokemon:a?Object(b.a)(a):null})}}},{key:"componentWillUnmount",value:function(){sessionStorage.clear()}},{key:"setNewPagination",value:function(n){var e=this.state,t=e.pokemons,r=e.pokemonsPerPage,a=(n-1)*r,o=a+r,i=t.slice(a,o);this.setState({pokemonsView:Object(b.a)(i),currentPage:n})}},{key:"render",value:function(){var n=this,e=this.state,t=e.pokemonsView,r=e.searchedPokemon,a=e.loading,o=this.props.theme;return a?c.a.createElement(z,null,c.a.createElement(y.a,{size:50,color:"#fff"},"Carregando")):c.a.createElement(c.a.Fragment,null,c.a.createElement(I,null,c.a.createElement(pn,{pokemons:r||t}),c.a.createElement(on,null)),c.a.createElement(A,{theme:o.color},c.a.createElement("button",{type:"button",onClick:function(){return n.handlePreviousPage()}},c.a.createElement("span",null,"Retroceder")),c.a.createElement("button",{type:"button",onClick:function(){return n.handleNextPage()}},c.a.createElement("span",null,"Avancar"))))}}]),t}(i.Component),mn=Object(p.b)((function(n){return{searchText:n.productList,theme:n.theme}}))(dn);function fn(n){return{type:"THEME",theme:n}}var hn=Object(p.b)(null,(function(n){return Object(d.a)(a,n)}))((function(n){return(0,n.defineTheme)(n.theme),c.a.createElement(m.c,null,c.a.createElement(m.a,{path:"/",exact:!0,component:mn}))}));t(94),t(106);function bn(){var n=Object(j.a)(["\n\n  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');\n\n  *{\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #333;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  body, input, button {\n    font: 14px Roboto, sans-serif;\n  }\n\n  #root {\n    margin: 0 auto;\n    padding: 0 0px 50px;\n\n    @media (max-width: 900px) {\n      padding: 0 0px 10px;\n    }\n  }\n\n  button {\n    cursor: pointer;\n  }\n"]);return bn=function(){return n},n}var gn=Object(C.a)(bn());function xn(){var n=Object(j.a)(["\n  background: ",";\n  display: flex;\n  justify-content: baseline;\n  width: 100% !important;\n  padding: 20px 30px;\n\n  input {\n    width: 100%;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    color: #666;\n    margin-left: 20px;\n    box-sizing: border-box;\n    padding-left: 20px;\n  }\n\n  button {\n    background: ",";\n    border: 0;\n    border-radius: 4px;\n    overflow: hidden;\n  }\n"]);return xn=function(){return n},n}function vn(){var n=Object(j.a)(["\n  background: orange;\n"]);return vn=function(){return n},n}C.b.div(vn());var wn=C.b.nav(xn(),(function(n){return n.theme}),(function(n){return n.theme}));function kn(n){return{type:"SEARCH",inputValue:n}}var yn=function(n){Object(k.a)(t,n);var e=Object(w.a)(t);function t(){var n;Object(x.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))).state={inputValue:""},n.handleChange=function(e){var t=n.props.search,r=e.target.value;n.setState({inputValue:r}),t(r.toLowerCase())},n.handleSearch=function(){var e=n.state.inputValue;(0,n.props.search)(e.toLowerCase())},n}return Object(v.a)(t,[{key:"render",value:function(){var n=this,e=this.state.inputValue,t=this.props.theme;return c.a.createElement(wn,{theme:t.color},c.a.createElement("button",{type:"button"},c.a.createElement(K.c,{size:36,color:"#FFF",onClick:function(){return n.handleSearch()}})),c.a.createElement("input",{type:"text",placeholder:"Pesquisar...",onChange:this.handleChange,value:e}))}}]),t}(i.Component),En=Object(p.b)((function(n){return{theme:n.theme}}),(function(n){return Object(d.a)(o,n)}))(yn),On=t(36);var jn={theme:"grass",color:"green"};var Cn=function(n){switch(n){case"grass":return{theme:"grass",color:"green"};case"fire":return{theme:"fire",color:"red"};case"water":return{theme:"water",color:"blue"};case"psychic":return{theme:"psychic",color:"#ffd500"};default:return{theme:"grass",color:"green"}}},Pn={cart:JSON.parse(sessionStorage.getItem("cart"))||[],productList:"",theme:{theme:"grass",color:"green"}},Sn=Object(d.b)({cart:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e.type){case"ADD_TO_CART":return Object(On.a)(n,(function(t){var r=n.findIndex((function(n){return n.id===e.product.id}));r>=0?t[r].amount+=1:t.push(Object(G.a)({},e.product,{amount:1}))}));case"REMOVE_FROM_CART":return Object(On.a)(n,(function(t){var r=n.findIndex((function(n){return n.id===e.id}));1===t[r].amount?t.splice(r,1):t[r].amount-=1}));case"FINISHED":return[];default:var t=JSON.parse(sessionStorage.getItem("cart"));return t||n}},productList:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e.type){case"SEARCH":return e.inputValue||"";default:return n}},theme:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e.type){case"THEME":return Cn(e.theme);default:return n}}},Pn),Tn=Object(d.c)(Sn);var Fn=function(n){var e=n.theme;return c.a.createElement(p.a,{store:Tn},c.a.createElement(s.a,null,c.a.createElement(En,null),c.a.createElement(hn,{theme:e}),c.a.createElement(gn,null)))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Fn,{theme:"fire"})),document.getElementById("root"))},58:function(n,e,t){n.exports=t(107)}},[[58,1,2]]]);
//# sourceMappingURL=main.385ffaec.chunk.js.map